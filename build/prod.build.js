var Engine=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=21)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return My_Lib});var My_Lib={};My_Lib.Viewport={};My_Lib.Object_Animation=function(object,animation){this.object=object;this.animation=animation};My_Lib.Object_Animation.prototype.update=function(dt){this.animation(this.object,dt)};My_Lib.create_text_image=function(width,height,text,npot,background){var canvas=document.createElement("canvas");canvas.width=width;canvas.height=height;var context=canvas.getContext("2d");if(background){context.fillStyle=background;context.fillRect(0,0,canvas.width,canvas.height)}context.font="Bold 40px Arial";context.fillStyle="rgba(0,255,0,0.95)";context.fillText("Hello, world!",0,50);var texture=new THREE.Texture(canvas);if(npot){texture.wrapS=texture.wrapT=THREE.TextureWrapping.ClampToEdgeWrapping;texture.minFilter=THREE.LinearFilter}texture.needsUpdate=true;return texture};My_Lib.Create_Quad=function(width,height,vertex_shader,fragment_shader){var plane=new THREE.PlaneBufferGeometry(width,height);var material=new THREE.ShaderMaterial({vertexShader:vertex_shader,fragmentShader:fragment_shader});var quad=new THREE.Mesh(plane,material);quad.rotation.y=Math.PI;return quad};My_Lib.Render_Target=function(width,height){this.target=new THREE.WebGLRenderTarget(width,height,{minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter,format:THREE.RGBFormat});this.camera=new THREE.PerspectiveCamera(80,width/height,.1,1e3)};My_Lib.Render_Target.prototype.render=function(scene,renderer){renderer.render(scene,this.camera,this.target,true)};My_Lib.create_overlay_camera=function(width,height){var camera=new THREE.OrthographicCamera(width/-2,width/2,height/2,height/-2,-1e4,1e4);return camera};My_Lib.Overlay=function(width,height){this.camera=My_Lib.create_overlay_camera(width,height)};My_Lib.Overlay.prototype.render=function(renderer){if(!this.scene){return}renderer.autoClear=false;renderer.render(this.scene,this.camera);renderer.autoClear=true};My_Lib.Mouse_Controller=function(root,over,click,callback){this.root=root;this.over=over;this.click=!!click;this.callback=callback};My_Lib.event_hub=new Event_Hub;function Event_Hub(){this.events={}}Event_Hub.prototype.add_event_listener=function(name,func,obj){if(!this.events[name]){this.events[name]=[]}this.events[name].push({name:name,func:func,obj:obj})};Event_Hub.prototype.on=Event_Hub.prototype.add_event_listener;Event_Hub.prototype.emit=function(name,obj){var listeners=this.events[name];if(listeners){for(var i=0;i<listeners.length;i++){var t=listeners[i];t.func.call(t.obj,obj)}}};var run_function=function(callback){window.setTimeout(callback,1e3/60)};My_Lib.create_run_function=function(app){My_Lib.run=function(){run_function(function(){app.loop()})}};My_Lib.Euler_Controller=function(obj,x,y,z){this.obj=obj;this.xspeed=x*Math.PI/180;this.yspeed=y*Math.PI/180;this.zspeed=z*Math.PI/180};My_Lib.Euler_Controller.prototype.update=function(dt){this.obj.rotation.x+=this.xspeed*dt;this.obj.rotation.y+=this.yspeed*dt;this.obj.rotation.z+=this.zspeed*dt};My_Lib.Registered_Classes={};My_Lib.Register_Class=function(name,func){if(My_Lib.Registered_Classes[name]){console.log("Register Class ERROR! Class with this name already exists!",name)}My_Lib.Registered_Classes[name]=func};My_Lib.Get_Class=function(name){return My_Lib.Registered_Classes[name]};My_Lib.create_class=function(parent,child,props,name){if(parent){child.prototype=Object.create(parent.prototype)}_.copy_object(child.prototype,props);child.prototype.contructor=child;My_Lib.Register_Class(child,name)};My_Lib.Abstract_Fabric=function(data){var constructor=My_Lib.Get_Class(data.type);if(constructor){var object=new constructor;object.parse(data);return object}return undefined};My_Lib.Print_Classes=function(){for(var key in this.Registered_Classes){console.log("class registered :",key,this.Registered_Classes[key])}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particle_Affector});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);function Particle_Affector(){this.id=_.generateUUID()}Particle_Affector.prototype.affect=function(dt,pdata,vert,color){return true};Particle_Affector.prototype.toJSON=function(child){if(child){return{}}var data={id:this.id,name:"Particle_Affector",params:{}};if(child){return params}return data};Particle_Affector.prototype.parse=function(json){};__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Particle_Affector",Particle_Affector);function Force_Affector(){Particle_Affector.call(this);this.forces=new Array}Force_Affector.prototype=Object.create(Particle_Affector.prototype);_.copy_object(Force_Affector.prototype,{constructor:Force_Affector,add_force:function(force){this.forces.push(force)},apply_forces:function(dt,particle,vert,color){var acceleration={x:0,y:0,z:0};for(var i=0;i<this.forces.length;i++){this.forces[i].calc(dt,particle,acceleration)}particle.velocity.x+=acceleration.x*dt;particle.velocity.y+=acceleration.y*dt;particle.velocity.z+=acceleration.z*dt},affect:function(dt,particle,vert,color){this.apply_forces(dt,particle,vert,color);return true},toJSON:function(child){var data={};data.name="Force_Affector";data.uuid=this.uuid;data.params=Particle_Affector.prototype.toJSON.call(this,this);if(this.forces.length>0){data.params.forces=new Array;for(var i=0;i<this.forces.length;i++){data.params.forces.push(this.forces[i].toJSON())}}return data},parse:function(json){var f,item;if(json.forces){for(var i=0;i<json.forces.length;i++){item=json.forces[i];f=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Get_Class(item.name);if(f){f=new f;f.parse(item);this.add_force(f)}}}}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Force_Affector",Force_Affector)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particle_Emitter});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);function Particle_Emitter(emit_per_second){this.uuid=_.generateUUID();this.name="";this.emit_delta=0;this.emit_count=0;this.emit_per_second=emit_per_second||5;this.lifetime={min:0,max:2}}Particle_Emitter.prototype.emit_life=function(){return this.lifetime.min+Math.random()*(this.lifetime.max-this.lifetime.min)};Particle_Emitter.prototype.calc_emitted_particles=function(dt){this.emit_delta+=this.emit_per_second*dt;var need_emit=Math.floor(this.emit_delta);if(need_emit>0){this.emit_delta-=need_emit}return need_emit};Particle_Emitter.prototype.emit=function(p,c,matrix){p.position.set(0,0,0);p.velocity.set(0,1,0);if(matrix){p.position.applyMatrix4(matrix);p.velocity.applyMatrix4_rotation(matrix)}};Particle_Emitter.prototype.toJSON=function(child){var params={uuid:this.uuid,emit_per_second:this.emit_per_second,lifetime:{min:this.lifetime.min,max:this.lifetime.max}};if(this.name){params.name=this.name}if(child){return params}var data={};data.name="Particle_Emitter";data.params=params;return data};Particle_Emitter.prototype.parse=function(data){this.emit_per_second=data.emit_per_second;this.name=data.name;this.uuid=data.uuid||_.generateUUID();_.copy_object(this.lifetime,data.lifetime)};__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Particle_Emitter",Particle_Emitter)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particles_Points});function Particles_Points(geometry,material){THREE.Points.call(this,geometry,material);this.type="particles_points";this.boundingSphere=new THREE.Sphere;this.boundingSphere.radius=10}Particles_Points.prototype=Object.create(THREE.Points.prototype);Particles_Points.prototype.constructor=Particles_Points;Particles_Points.prototype.toJSON=function(meta){var mat=this.material;var geom=this.geometry;this.material=undefined;this.geometry=undefined;var object=THREE.Object3D.prototype.toJSON.call(this,meta);this.material=mat;this.geometry=geom;return object};Particles_Points.prototype.raycast=function(raycaster,intersects){var sphere=new THREE.Sphere;sphere.copy(this.boundingSphere);sphere.applyMatrix4(this.matrixWorld);var r=raycaster.ray.intersectsSphere(sphere);if(r===false)return;console.log("INTERSECTION1",this.name,sphere);return;var shit=new THREE.Vector3;shit.copy(this.position);var tr=new THREE.Ray(new THREE.Vector3(0,0,20),shit);console.log("test ",tr.intersectsSphere(sphere),sphere);console.log("hit sphere "+this.name,sphere,raycaster.ray);return raycaster.ray.intersectsSphere(sphere);console.log("hit sphere "+this.type,"shpere is ",sphere,"ray is ",r);if(r){var tmp=new THREE.Vector3(this.position);tmp.sub(r);intersects.push({distance:Math.sqrt(tmp.dot(tmp)),point:this.position,object:this})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return main_event_hub});__webpack_require__.d(__webpack_exports__,"b",function(){return Event_Hub});function Event_Hub(){this.events={}}Event_Hub.prototype.add_event_listener=function(name,func,obj){if(!this.events[name]){this.events[name]=[]}this.events[name].push({name:name,func:func,obj:obj})};Event_Hub.prototype.on=Event_Hub.prototype.add_event_listener;Event_Hub.prototype.emit=function(name,obj){var listeners=this.events[name];if(listeners){for(var i=0;i<listeners.length;i++){var t=listeners[i];t.func.call(t.obj,obj)}}};var main_event_hub=new Event_Hub},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Mouse_Intersector});var Mouse_Intersector={};Mouse_Intersector.get_normalized_screen_coords=function(canvas,x,y){var offset=canvas.getBoundingClientRect();var width=canvas.clientWidth;var height=canvas.clientHeight;var x=(x-offset.left)/width;var y=(y-offset.top)/height;var x=x*2-1;var y=-(y*2-1);var vector=new THREE.Vector3(x,y,1);return vector};Mouse_Intersector.mouse_coords_to_vector=function(canvas,event){return this.get_normalized_screen_coords(canvas,event.clientX,event.clientY)};Mouse_Intersector.unproject=function(vector,camera){var r=new THREE.Vector3;r.copy(vector);r.z=1;r.unproject(camera);return r};Mouse_Intersector.mouse_coords_to_ray=function(canvas,event,camera){var vector=this.mouse_coords_to_vector(canvas,event);vector=this.unproject(vector,camera);var ray=new THREE.Ray(camera.position,vector.sub(camera.position).normalize());return ray};Mouse_Intersector.find_intersection_with_mouse_vector=function(vector,camera,scene){vector.unproject(camera);var ray=new THREE.Raycaster(camera.position,vector.sub(camera.position).normalize());var intersects=ray.intersectObjects([scene],true);return intersects};Mouse_Intersector.find_intersection_with_bounding_sphere=function(object,fakecaster,intersects,recursive,level){object.raycast(fakecaster,intersects);if(!recursive)return;var children=object.children;var sphere=new THREE.Sphere;for(var i=0;i<children.length;i++){var child=children[i];child.updateMatrixWorld(true);if(child.geometry){sphere.copy(child.geometry.boundingSphere);sphere.applyMatrix4(child.matrixWorld);var inter=fakecaster.ray.intersectsSphere(sphere);if(inter){intersects.push(child)}}else{this.find_intersection_with_bounding_sphere(children[i],fakecaster,intersects,true,level+1)}}if(level===1){return intersects}};Mouse_Intersector.find_intersected_object=function(scene,ray){var intersects=[];var fakecaster={ray:ray};Mouse_Intersector.find_intersection_with_bounding_sphere(scene,fakecaster,intersects,true);return intersects}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Color_Domain});__webpack_require__.d(__webpack_exports__,"b",function(){return Table_Color});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);function Color_Domain(r,g,b){this.color=new THREE.Color(r,g,b);this.uuid=_.generateUUID();this.name="";this.type="Color_Domain"}_.copy_object(Color_Domain.prototype,{toJSON:function(child){var data={};data.uuid=this.uuid;if(this.name!==""){data.name=this.name}data.type=this.type;data.color={r:this.color.r,g:this.color.g,b:this.color.b};return},parse:function(json){this.uuid=json.uuid;if(json.name!==undefined){this.name=json.name}if(json.color!==undefined){this.color.set(json.color.r,json.color.g,json.color.b)}},emit:function(color){color.r=this.color.r;color.g=this.color.g;color.b=this.color.b},fill:function(color,offset){color[offset+0]=this.color.r;color[offset+1]=this.color.g;color[offset+2]=this.color.b}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Color_Domain",Color_Domain);function Table_Color(table){if(table!==undefined){this.copy_table(table)}else{this.default_table()}}Table_Color.prototype=Object.create(Color_Domain);_.copy_object(Table_Color.prototype,{constructor:Table_Color,copy_table:function(table){this.table=new Array(table.length);for(var i=0;i<table.length;i++){this.table=new THREE.Color(table[i])}},emit:function(color){var index=Math.ceil(Math.random()*this.table.length)%this.table.length;var src=this.table[index];color.r=src.r;color.g=src.g;color.b=src.b},fill:function(color,offset){var index=Math.ceil(Math.random()*this.table.length)%this.table.length;var src=this.table[index];color[offset]=src.r;color[offset+1]=src.g;color[offset+2]=src.b},default_table:function(){this.table=new Array(8);this.table[0]=new THREE.Color(1,0,0);this.table[1]=new THREE.Color(0,1,0);this.table[2]=new THREE.Color(0,0,1);this.table[3]=new THREE.Color(1,0,1);this.table[4]=new THREE.Color(1,1,0);this.table[5]=new THREE.Color(1,.4,.4);this.table[6]=new THREE.Color(.5,.7,.98);this.table[7]=new THREE.Color(.9,.4,.4)},get:function(){var r={r:0,g:0,b:0};this.emit(r);return r}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Table_Color",Table_Color)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particle_Shaders});var Particle_Shaders={};(function(){var vertex_shader=["attribute vec4 color;","attribute float params;","varying vec4 vcolor;","uniform float lifetime;","uniform float point_size;","uniform vec2 screen_size;","#ifndef DYNAMIC_COLORS","uniform vec3 particle_color;","#endif","void main () {","gl_Position = projectionMatrix * viewMatrix * vec4( position, 1.0 );","#ifdef DYNAMIC_COLORS","vcolor.rgb = color.rgb;","#else","vcolor.rgb = particle_color.rgb;","#endif","#ifdef NO_FADE_COLOR","vcolor.a = 1.0;","#else","float tmp = params / lifetime;","tmp = min(tmp, 1.0);","vcolor.a = tmp;","#endif","float t =  screen_size.y* projectionMatrix[1][1] / gl_Position.w;","t = t * point_size;","if (params > 0.0) {","gl_PointSize = t;","}","else {","gl_PointSize = 0.0;","gl_Position.z = -1000.0;","}","}"];var fragment_shader=["varying vec4 vcolor;","#ifdef PARTICLE_TEXTURE","uniform sampler2D sprite;","#endif","void main() {","#ifdef PARTICLE_TEXTURE","vec4 tex = texture2D( sprite, gl_PointCoord );","vec3 fragment_color = tex.rgb;","fragment_color.rgb *= vcolor.rgb;","float alpha = tex.a;","#else","vec3 fragment_color = vcolor.rgb;","float alpha = 1.0;","#endif","#ifdef PRE_ALPHA","fragment_color.rgb *= alpha;","#endif","#ifndef NO_FADE_COLOR","float fragment_alpha = alpha * vcolor.a;","#else","float fragment_alpha = alpha;","#endif","gl_FragColor = vec4(fragment_color.rgb, fragment_alpha);","}"];Particle_Shaders.vertex=vertex_shader.join("\n");Particle_Shaders.fragment=fragment_shader.join("\n")})()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particle_System});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2__particle_affector_js__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_3__particles_points_js__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_4__particle_shaders_js__=__webpack_require__(7);var __WEBPACK_IMPORTED_MODULE_5__color_domain_js__=__webpack_require__(6);function Particle_System(data){this.uuid=_.generateUUID();this.params=this.config_params(data);this.emitter=this.params.emitter;this.affector=this.params.affector;this.particle_lifetime=this.params.particle_lifetime;this.texture=this.params.texture;this.dynamic_color=false;var count=this.params.count;this.material=this.create_particle_material();this.node=new __WEBPACK_IMPORTED_MODULE_3__particles_points_js__["a"](this.create_particle_geometry(count),this.material);this.node.name=this.name;this.node.boundingSphere.radius=this.params.bounding_radius}Particle_System.prototype.config_params=function(data){var params={};params.particle_lifetime=3;params.no_fade_color=false;params.pre_alpha=true;params.depth_test=true;params.depth_write=false;params.color={r:1,g:1,b:1};params.blending="one_alpha";params.size=1;params.count=100;params.name="";params.bounding_radius=2;params.discrete_emission=false;params.apply_world_matrix_on_emit=true;for(var key in data){if(Object.prototype.hasOwnProperty.call(data,key)){if(data[key]!==undefined){params[key]=data[key]}}}params.emitter=data.emitter||new __WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__["a"](1);params.affector=data.affector||new __WEBPACK_IMPORTED_MODULE_2__particle_affector_js__["a"];return params};Particle_System.prototype.set_name=function(name){this.name=name;this.node.name=name};Particle_System.prototype.suicide=function(){this.node.parent.remove(this.node);main_event_hub.emit("kill_me",this)};Particle_System.prototype.create_particle_data=function(count){var particle_data=new Array(count);var p;for(var i=0;i<count;i++){p={};p.position=new THREE.Vector3(0,0,0);p.velocity=new THREE.Vector3(0,0,0);p.lifetime=0;particle_data[i]=p}this.particle_data=particle_data};Particle_System.prototype.create_particle_geometry=function(count){this.create_particle_data(count);var vertices=new Float32Array(count*3);var colors=new Float32Array(count*3);var params=new Float32Array(count);for(var i=0;i<count;i++){vertices[i*3]=0;vertices[i*3+1]=0;vertices[i*3+2]=0;params[i]=0;if(this.params.color_domain){this.params.color_domain.fill(colors,i*3)}else{colors[i*3]=this.params.color.r;colors[i*3+1]=this.params.color.g;colors[i*3+2]=this.params.color.b}}this.geometry={};this.geometry.vertices=new THREE.BufferAttribute(vertices,3).setDynamic(true);this.geometry.colors=new THREE.BufferAttribute(colors,3);if(this.dynamic_color){this.geometry.colors.setDynamic(true)}this.geometry.params=new THREE.BufferAttribute(params,1).setDynamic(true);var geom=new THREE.BufferGeometry;this.geometry.buffer=geom;geom.addAttribute("position",this.geometry.vertices);geom.addAttribute("color",this.geometry.colors);geom.addAttribute("params",this.geometry.params);return geom};Particle_System.prototype.discrete_emit=function(count){this.emit_particles(0,count);this.geometry.vertices.needsUpdate=true;this.geometry.params.needsUpdate=true;this.geometry.colors.needsUpdate=true};Particle_System.prototype.emit_particles=function(dt,need_emit){var p;var verts=this.geometry.vertices.array;var params=this.geometry.params.array;var old_need_emit=need_emit;this.node.updateMatrixWorld(true);var matrix=this.node.matrixWorld;for(var i=0;i<this.particle_data.length&&need_emit>0;i++){if(!(params[i]>0)){p=this.particle_data[i];this.emitter.emit(p,null,matrix);p.lifetime=this.particle_lifetime;verts[i*3]=p.position.x;verts[i*3+1]=p.position.y;verts[i*3+2]=p.position.z;params[i]=p.lifetime;need_emit--}}};Particle_System.prototype.update_particle_geometry=function(dt){var verts=this.geometry.vertices.array;var params=this.geometry.params.array;var p;var vert=new THREE.Vector3(0,0,0);var dummy_color={r:1,b:1,g:1};for(var i=0;i<this.particle_data.length;i++){if(params[i]>0){p=this.particle_data[i];p.position.x+=p.velocity.x*dt;p.position.y+=p.velocity.y*dt;p.position.z+=p.velocity.z*dt;p.lifetime-=dt;if(p.lifetime<=0||!this.affector.affect(dt,p,vert,dummy_color)){p.lifetime=0}params[i]=p.lifetime;verts[i*3]=p.position.x;verts[i*3+1]=p.position.y;verts[i*3+2]=p.position.z}}if(!this.params.discrete_emission){var need_emit=this.emitter.calc_emitted_particles(dt);this.emit_particles(dt,need_emit)}this.geometry.vertices.needsUpdate=true;this.geometry.params.needsUpdate=true;this.geometry.colors.needsUpdate=true};Particle_System.prototype.update=function(dt){this.update_particle_geometry(dt)};Particle_System.prototype.generate_material_name=function(){var my_name="MY_PARTICLE_MATERIAL";if(!!this.texture){my_name+="_WITH_TEXTURE"}if(this.params.no_fade_color){my_name+="_NO_FADE_COLOR"}return my_name};Particle_System.prototype.blending_mode={additive:{blendSrc:THREE.OneFactor,blendDst:THREE.OneFactor},alpha:{blendSrc:THREE.SrcAlphaFactor,blendDst:THREE.OneMinusSrcAlphaFactor},one_alpha:{blendSrc:THREE.OneFactor,blendDst:THREE.OneMinusSrcAlphaFactor},alpha_one:{blendSrc:THREE.SrcAlphaFactor,blendDst:THREE.OneFactor}};Particle_System.prototype.convert_blending_mode=function(blending){var three_blending;var factors=this.blending_mode["one_alpha"];if(blending==="no"){three_blending=THREE.NoBlending}else{three_blending=THREE.CustomBlending;if(this.blending_mode[blending]){factors=this.blending_mode[blending]}}return{blending:three_blending,factors:factors}};Particle_System.prototype.set_texture=function(texture){if(typeof texture==="string"){if(this.params.texture===texture){return}this.params.texture=texture;this.texture=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Texture_Manager.get(texture)}else{console.error("Oh Shit! texture in set_texture is not string! it's object or undefined!",texture)}if(this.material.uniforms.sprite){this.material.uniforms.sprite.value=this.texture}else{this.recreate_material();console.error("Oh Shit! Our shader has not texture! Need create shader with texture!")}};Particle_System.prototype.create_uniforms=function(){var uniforms={lifetime:{value:this.particle_lifetime},point_size:{value:this.params.size},screen_size:{value:new THREE.Vector2(__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Viewport.width,__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Viewport.height)}};if(!!this.texture){uniforms["sprite"]={value:this.texture}}if(!this.dynamic_color){uniforms["particle_color"]={value:this.params.color}}return uniforms};Particle_System.prototype.calc_defines=function(){var defines={};if(this.params.pre_alpha){defines["PRE_ALPHA"]=true}if(!!this.texture){defines["PARTICLE_TEXTURE"]=true}if(this.params.no_fade_color){defines["NO_FADE_COLOR"]=true}if(this.params.color_domain){defines["DYNAMIC_COLORS"]=true}return defines};Particle_System.prototype.select_texture=function(texture){if(typeof this.texture==="string"){this.texture=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Texture_Manager.get(this.texture);if(!this.texture){console.error("Oh, not found texture <"+this.params.texture+"> in create particle material! Instead get "+this.texture)}}};Particle_System.prototype.create_particle_material=function(){this.select_texture(this.texture);var blend_obj=this.convert_blending_mode(this.params.blending);var uniforms=this.create_uniforms();var defines=this.calc_defines();var mat=new THREE.ShaderMaterial({transparent:true,depthWrite:this.params.depth_write,depthTest:this.params.depth_test,blending:blend_obj.blending,blendSrc:blend_obj.factors.blendSrc,blendDst:blend_obj.factors.blendDst,defines:defines,uniforms:uniforms,vertexShader:__WEBPACK_IMPORTED_MODULE_4__particle_shaders_js__["a"].vertex,fragmentShader:__WEBPACK_IMPORTED_MODULE_4__particle_shaders_js__["a"].fragment});return mat};Particle_System.prototype.recreate_material=function(){this.node.material=this.material=this.create_particle_material()};Particle_System.prototype.set_pre_alpha=function(pre_alpha){if(this.params.pre_alpha!==!!pre_alpha){this.params.pre_alpha=pre_alpha;this.recreate_material()}};Particle_System.prototype.set_point_size=function(size){if(this.params.size!=size){this.params.size=size;this.node.material.uniforms["point_size"].value=size}};Particle_System.prototype.set_blending=function(blending){this.params.blending=blending;var b=this.convert_blending_mode(blending);this.material.blending=b.blending;this.material.blendSrc=b.factors.blendSrc;this.material.blendDst=b.factors.blendDst};Particle_System.prototype.toJSON=function(){var data={};data.uuid=this.uuid;data.node=this.node.uuid;if(this.name||this.node.name){data.name=this.name||this.node.name}data.params={};if(this.params){_.copy_object(data.params,this.params)}data.params.emitter=this.emitter.toJSON();data.params.affector=this.affector.toJSON();return data};Particle_System.prototype.set_emitter=function(emitter){this.emitter=this.params.emitter=emitter};Particle_System.prototype.set_particle_life_length=function(val){if(val!==this.params.particle_lifetime){this.params.particle_lifetime=this.particle_lifetime=val;this.material.uniforms["lifetime"].value=val}};Particle_System.prototype.set_emission_per_second=function(val){this.emitter.emit_per_second=val};Particle_System.prototype.set_particle_count=function(count){if(count!==this.particle_data.length){this.params.count=count;this.node.geometry=this.create_particle_geometry(count)}};Particle_System.prototype.set_color=function(color){this.params.color.r=color.r;this.params.color.g=color.g;this.params.color.b=color.b};Particle_System.prototype.set_bounding_sphere_radius=function(radius){this.node.boundingSphere.radius=radius}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particle_Manager});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2__particle_affector_js__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_3__particles_points_js__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_4__particles_js__=__webpack_require__(8);function Particle_Manager(){this.particles={};this.particles_array=[]}_.copy_object(Particle_Manager.prototype,{constructor:Particle_Manager,add:function(ps,name){if(!this.particles[name]){this.particles[name]=ps;this.particles_array.push(ps)}},remove_particles:function(name){var ps=this.particles[name];var i=this.particles_array.indexOf(ps);if(i>=0){this.particles_array.splice(i,1)}if(ps){ps.suicide();delete this.particles[name]}},get_particle_names:function(){var names=[];for(var key in this.particles){names.push(key)}return names},update:function(dt){for(var i=0;i<this.particles_array.length;i++){this.particles_array[i].update(dt)}},create_by_params:function(params){var ps=new __WEBPACK_IMPORTED_MODULE_4__particles_js__["a"](params);this.add(ps);return ps},toJSON:function(){var arr=[];var data;var p;for(var key in this.particles){p=this.particles[key];if(p.uuid){data=p.toJSON();arr.push(data)}}return arr},emitter_fabric:function(params){if(params.emitter){var emitter=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Get_Class(params.emitter.name);if(emitter){emitter=new emitter}else{emitter=new __WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__["a"]}emitter.parse(params.emitter.params);return emitter}return undefined},affector_fabric:function(params){if(params.affector){var affector=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Get_Class(params.affector.name);if(affector){affector=new affector}else{affector=new __WEBPACK_IMPORTED_MODULE_2__particle_affector_js__["a"]}affector.parse(params.affector.params);return affector}return undefined},fromJSON:function(json,callback,root,name){if(this.particles[name]){console.log("WARNING Particle Manager! Particle System with this name already exists",name)}try{var data=JSON.parse(json)}catch(e){console.log("error parsing json on ",name,json);throw e}return this.parse(data,root,name)},parse:function(data,root,name){var emitter=this.emitter_fabric(data.params);var affector=this.affector_fabric(data.params);data.params.emitter=emitter;data.params.affector=affector;var ps=new __WEBPACK_IMPORTED_MODULE_4__particles_js__["a"](data.params);ps.set_name(data.name);if(data.params.parent){var parent=root.getObjectByName(data.params.parent);parent.add(ps.node)}else{root.add(ps.node)}this.add(ps,name);return ps},load_particles:function(json,root){var particles=json.particles;for(var i=0;i<particles.length;i++){var p=particles[i];var ps=this.parse(p,root,p.name);ps.node.uuid=p.node;ps.node.name=p.name;var obj=root.getObjectByProperty("uuid",p.node);if(obj){ps.node.replace_object_with_this(obj)}}},create_name:function(){var number=this.particles_array.length+1;var begin_name="Particle_System_";var testing=true;while(testing){name=begin_name+number;if(this.particles[name]!==undefined){number++}else{return name}}},create_new:function(){var name=this.create_name();var params={};var ps=new __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Particle_System(params);ps.set_name(name);this.add(ps,name);return ps}});if(__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].particle_manager===undefined){__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].particle_manager=new Particle_Manager}__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Particles_Config={box_size:10}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Point_Generators});var Point_Generators={};Point_Generators.Random_Direction=function(){};Point_Generators.Random_Direction.prototype.get_direction=function(vector){vector.x=Math.random();vector.y=Math.random();vector.z=Math.random()};Point_Generators.Sphere=function(radius){this.radius=radius};Point_Generators.Sphere.prototype.get_inner_point=function(vector){var alpha=Math.random()*Math.PI*2;var beta=Math.random()*Math.PI;vector.x=Math.cos(alpha)*Math.sin(beta);vector.y=Math.cos(beta);vector.z=Math.sin(alpha)*Math.sin(beta)};Point_Generators.Sphere.prototype.get_normal=function(vector){vector.x=Math.random()*2-1;vector.y=Math.random()*2-1;vector.z=Math.random()*2-1;vector.normalize()};Point_Generators.Sphere.prototype.get_point=function(vector){this.get_normal(vector);vector.multiplyScalar(this.radius)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Application});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__base_event_hub_js__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_2__base_mouse_intersector_js__=__webpack_require__(5);function Application(config){this._lifecycle_event("before_created");this._init_timer();this._create_loop_function();this.mouse_controllers=[];__WEBPACK_IMPORTED_MODULE_1__base_event_hub_js__["a"].add_event_listener("kill_me",function(obj){this.remove_animated_object(obj)},this)}Application.prototype.start=function(config){console.log("start application...");this._set_configuration(config)};Application.prototype._lifecycle_event=function(name,event){if(this[name]){return this[name](event)}return false};Application.prototype._init_timer=function(){this.clock=new THREE.Clock;this.delta_time=0;this.animated_objects=[]};var run_function=function(callback){window.setTimeout(callback,1e3/60)};Application.prototype._create_loop_function=function(){var self=this;this.run=function(){run_function(function(){self.loop()})}};Application.prototype.get_default_configuration=function(){return{dom_element:"screen",render_params:{premultipliedAlpha:true,alpha:true},viewport:{width:800,height:600},clear_color:255,main_camera:{fov:80,near:.1,far:1e3,aspect_ratio:1.3333333333333333,position:{x:0,y:0,z:0}}}};Application.prototype._create_render=function(json){if(this.dom_screen||this.renderer){alert("Create render alert! Something strange happenes!")}if(!this.dom_screen){this.dom_screen=document.getElementById(json.dom_element)}if(!this.renderer){this.renderer=new THREE.WebGLRenderer(json.render_params)}if(!!!this.dom_screen||typeof this.dom_screen==="undefined"){console.error("Some terrorous happens! dom element for screen not found! element id is "+json.dom_element)}this.dom_screen.appendChild(this.renderer.domElement);this.canvas=this.renderer.domElement;this.renderer.setSize(json.viewport.width,json.viewport.height);this.set_viewport(json.viewport.width,json.viewport.height);this.renderer.setClearColor(json.clear_color);this._lifecycle_event("render_created")};Application.prototype._create_main_scene=function(json){var event={prevent:false};this._lifecycle_event("before_create_main_scene",event);if(!this.main_scene){this.main_scene=new THREE.Scene}var camera=json.main_camera;if(!this.main_camera){this.main_camera=new THREE.PerspectiveCamera(camera.fov,camera.aspect_ratio,camera.near,camera.far);this.main_scene.add(this.main_camera);this.main_camera.name="main_camera"}else{this.main_camera.fov=camera.fov;this.main_camera.near=camera.near;this.main_camera.far=camera.far;this.main_camera.aspect=camera.aspect_ratio;this.main_camera.updateProjectionMatrix()}this.main_camera.position.set(camera.position.x,camera.position.y,camera.position.z)};Application.prototype.apply_configuration=function(json){this.configuration=json;this._create_render(json);this._create_main_scene(json);this._lifecycle_event("created")};Application.prototype.load_configuration=function(url){var xhr=new THREE.XHRLoader;var self=this;var config=self.get_default_configuration();var configuration_is_applied=false;function onload(data){console.log("configuration loaded from url <<"+url+">>");var obj=JSON.parse(data);_.copy_object(config,obj);self.apply_configuration(config);console.log(configuration_is_applied,"onload");configuration_is_applied=true}function progress(){}function error(event){console.error("Error on loading config!",event.target.status);console.log("Setting default configuration");console.log(configuration_is_applied,"error");configuration_is_applied=true;self.apply_configuration(config)}xhr.load(url,onload,progress,error)};Application.prototype._set_configuration=function(config){var default_config=this.get_default_configuration();if(typeof config==="string"){console.log("get configuration from url >> "+config);this.load_configuration(config)}else if(typeof config==="object"){console.log("get configuration from user object");_.copy_object(default_config,config);this.apply_configuration(default_config)}else{console.log("_set_configuration: set default configration");this.apply_configuration(default_config)}};Application.extend=function(methods,child_func){var Child;if(typeof child_func==="undefined"){Child=function(){Application.apply(this,arguments)}}else{Child=child_func}Child.prototype=Object.create(Application.prototype);_.copy_object(Child.prototype,methods);Child.prototype.constructor=Child;return Child};Application.extend_proto=function(proto,methods){var obj=Object.create(proto);_.copy_object(obj,methods);Application.call(obj);return obj};Application.prototype.loop=function(){var delta=this.clock.getDelta();if(delta>.1){delta=.1}this.delta_time=delta;this.do_update(delta);this.update(delta);this.render(delta);this.run()};Application.prototype.add_animated_object=function(obj){this.animated_objects.push(obj)};Application.prototype.remove_animated_object=function(obj){for(var i=0;i<this.animated_objects.length;i++){if(this.animated_objects[i]===obj){this.animated_objects.splice(i,1);break}}};Application.prototype.update_all=function(delta){var obj;for(var i=0,len=this.animated_objects.length;i<len;i++){obj=this.animated_objects[i];if(obj["update"]){obj.update(delta)}}};Application.prototype.pre_update=function(delta){this.update_all(delta);__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].particle_manager.update(delta);if(this.before_update!==undefined){this.before_update(delta)}};Application.prototype.do_update=function(dt){this.pre_update(dt);this.update(dt)};Application.prototype.update=function(delta){};Application.prototype.create_mouse_move_listener=function(){if(this["mouse_move_listener"]){return}var self=this;this.mouse_move_listener=true;function mouse_move_listener(event){var vector=__WEBPACK_IMPORTED_MODULE_2__base_mouse_intersector_js__["a"].mouse_coords_to_vector(self.dom_screen,event);self.find_mouse_over_intersections(vector)}document.addEventListener("mousemove",mouse_move_listener)};Application.prototype.find_mouse_over_intersections=function(vector){vector.unproject(this.main_camera);var ray=new THREE.Raycaster(this.main_camera.position,vector.sub(this.main_camera.position).normalize());var obj;for(var i=0,len=this.mouse_controllers.length;i<len;i++){obj=this.mouse_controllers[i];if(obj.over){var intersects=ray.intersectObjects([obj.root],true);obj.callback(intersects)}}};Application.prototype.add_mouse_controller=function(root,over,click,callback){var tmp=new __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Mouse_Controller(root,over,click,callback);this.mouse_controllers.push(tmp);if(over){this.create_mouse_move_listener()}return tmp};Application.prototype.set_viewport=function(width,height){__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Viewport.width=width;__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Viewport.height=height};Application.prototype.render=function(delta){this.renderer.setClearColor(this.configuration.clear_color);this.renderer.autoClear=true;this.renderer.render(this.main_scene,this.main_camera)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Base_Animation});__webpack_require__.d(__webpack_exports__,"b",function(){return Euler_Animation});__webpack_require__.d(__webpack_exports__,"c",function(){return Scale_Animation});var __WEBPACK_IMPORTED_MODULE_0__my_lib_js__=__webpack_require__(0);function Base_Animation(){this.time=0;this.time_scale=1;this.type="Base_Animation";this.uuid=_.generateUUID();this.length=-1;this.stopped=false}Base_Animation.prototype.update=function(dt){var scaled_dt=dt*this.time_scale;this.time+=scaled_dt;if(this.length<0||this.time<this.length){this.calc_animation(dt)}};Base_Animation.prototype.stop=function(){this.stopped=true};Base_Animation.prototype.start=function(){this.stopped=false};Base_Animation.prototype.reset=function(){this.time=0};Base_Animation.prototype.calc_animation=function(dt){};Base_Animation.prototype.apply=function(obj){};Base_Animation.prototype.toJSON=function(data){var data={};data.uuid=this.uuid;data.type=this.type;if(this.name!==""){data.name=this.name}data.time_scale=this.time_scale;data.length=this.length;return data};Base_Animation.prototype.parse=function(param){this.type=param.type;this.uuid=param.uuid;this.name=param.name?param.name:"";this.time_scale=param.time_scale===undefined?1:param.time_scale;this.length=param.length===undefined?0:param.length};function Euler_Animation(x,y,z){Base_Animation.call(this);this.type="Euler_Animation";this.xspeed=x;this.yspeed=y;this.zspeed=z;this.x=0;this.y=0;this.z=0;this.name=""}Euler_Animation.prototype=Object.create(Base_Animation.prototype);Euler_Animation.prototype.constructor=Euler_Animation;Euler_Animation.prototype.calc_animation=function(dt){dt*=this.time_scale;this.x+=this.xspeed*dt;this.y+=this.yspeed*dt;this.z+=this.zspeed*dt};Euler_Animation.prototype.apply=function(obj){obj.rotation.x=this.x;obj.rotation.y=this.y;obj.rotation.z=this.z};Euler_Animation.prototype.toJSON=function(json){var data=Base_Animation.prototype.toJSON.call(this);data.xspeed=this.xspeed;data.yspeed=this.yspeed;data.zspeed=this.zspeed;return data};Euler_Animation.prototype.parse=function(param){Base_Animation.prototype.parse.call(this,param);this.xspeed=param.xspeed;this.yspeed=param.yspeed;this.zspeed=param.zspeed;this.x=this.y=this.z=0};function Scale_Animation(x,y,z){Base_Animation.call(this);this.xscale=x;this.yscale=y;this.zscale=z;this.x=1;this.y=1;this.z=1}Scale_Animation.prototype=Object.create(Base_Animation.prototype);_.copy_object(Scale_Animation.prototype,{constructor:Scale_Animation,calc_animation:function(dt){dt=dt*this.time_scale;this.x+=this.xscale*dt;this.y+=this.yscale*dt;this.z+=this.zscale*dt},apply:function(obj){obj.scale.set(this.x,this.y,this.z)},reset:function(){this.x=1;this.y=1;this.z=1;this.time=0}});__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].Register_Class("Base_Animation",Base_Animation);__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].Register_Class("Euler_Animation",Euler_Animation);__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].Register_Class("Scale_Animation",Scale_Animation)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Loading_Manager});var __WEBPACK_IMPORTED_MODULE_0__my_lib_js__=__webpack_require__(0);function Chain_Loader(){}Chain_Loader.prototype={constructor:Chain_Loader,start:function(list){this.list=list;this.index=0;this.load(this.list[0]);this.stop_by_error=false},next:function(resource){if(this.item_loaded&&resource){this.item_loaded(resource,this.list[this.index])}this.index++;if(this.index<this.list.length){this.load(this.list[this.index])}else{if(this.finished){this.finished()}}},do_error:function(error){if(this.onerror){this.onerror(error)}else{console.error("Chain Loader Error!",error)}if(!this.stop_by_error){this.next()}},do_progress:function(){if(this.onprogress){this.onprogress.apply(this,arguments)}},load:function(item){var self=this;if(this.load_func){this.load_func(item,function(item){self.next.apply(self,arguments)},function(item){self.do_error.apply(self,arguments)},function(item){self.do_progress.apply(self,arguments)})}}};function test_chain_loader(){var cl=new Chain_Loader;cl.item_loaded=function(item){console.log("load item ",item)};cl.finished=function(item){console.log("loader manager - job done")};cl.load_func=function(item,next,error,progress){if(item){next(item)}else{error(item)}};cl.start(["first","second",null,"tree"])}function Loading_Manager(){this.resources={};this.texture_loader=new THREE.TextureLoader}Loading_Manager.prototype={constructor:Loading_Manager,get:function(name){return this.resources[name]},get_async:function(name,callback){var texture=this.get(name);if(texture){if(callback){callback(texture)}return texture}var self=this;texture=this.texture_loader.load(name,function(texture){if(callback){callback(texture)}});this.resources[name]=texture;return texture},load_list:function(resource_list,on_load,load_func,on_progress){var self=this;var cl=new Chain_Loader;var self=this;cl.onerror=function(error){console.error("ERROR loading texture",error,cl.list[cl.index])};cl.item_loaded=function(resource,name){self.resources[name]=resource;if(self.on_resource_loaded){self.on_resource_loaded(resource)}};cl.on_progress=function(){if(on_progress){on_progress()}};cl.load_func=function(){load_func.apply(this,arguments)};cl.finished=function(){if(on_load){on_load()}};cl.start(resource_list)},load_list_textures:function(resource_list,on_load){var self=this;this.load_list(resource_list,on_load,function(url,next,error,progress){var texture=self.texture_loader.load(url,next,progress,error)})},load_list_json:function(resource_list,on_load,progress){var self=this;var loader=new THREE.XHRLoader;this.load_list(resource_list,on_load,function(url,next,error,progress){var texture=loader.load(url,next,progress,error)},progress)},free:function(){this.resources={}}};__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].Texture_Manager=new Loading_Manager},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Package_Manager});var __WEBPACK_IMPORTED_MODULE_0__my_lib_js__=__webpack_require__(0);function Package_Manager(){this.state={}}Package_Manager.prototype.load=function(url,defaults){this.defaults=defaults;var self=this;this.state={type:"start"};var self=this;function onload(data){self.state["type"]="done";self.state["data"]=data;self.parse_package_description(data)}function error(event){self.state["type"]="error";self.state["error"]=event;console.error("ERror! Failed loading resources with url "+url,event.target);if(self.error){self.error(event.target)}self.pack=self.defaults;self.load_resources(self.defaults)}function progress(){}var xhr=new THREE.XHRLoader;xhr.load(url,onload,progress,error)};Package_Manager.prototype.parse_package_description=function(data){console.log("packaged description loaded, begin parsing...");try{var pack=JSON.parse(data);this.pack=pack;if(this.loaded){this.loaded(pack)}}catch(e){console.error("error parsing resources ",e);if(this.error){this.error(event)}return}this.load_resources(pack)};Package_Manager.prototype.load_resources=function(pack){var self=this;console.log("Package Manager: begin loading textures...");__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].Texture_Manager.load_list_textures(pack.textures,function(){if(self.data_loaded){self.data_loaded(pack)}})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Scene_Serializer});var __WEBPACK_IMPORTED_MODULE_0__my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__particles_particles_manager_js__=__webpack_require__(9);function Scene_Serializer(root){this.animation_library={}}Scene_Serializer.prototype.toJSON=function(root){this.json=root.toJSON();console.log("my lib particle manager",__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].particle_manager);this.json["particles"]=__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].particle_manager.toJSON();var anims=root.collect_animations(root);if(anims.count>0){this.json["myanimations"]=anims}return this.json};Scene_Serializer.prototype.create_animations=function(animations){for(var key in animations){if(this.animation_library[key]===undefined&&Object.prototype.hasOwnProperty.call(animations,key)){var data=animations[key];var anim=__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].Abstract_Fabric(data);if(anim){this.animation_library[key]=anim}}}};Scene_Serializer.prototype.bind_animations=function(animdata){if(!animdata)return;var bindings=animdata.bindings;var self=this;function copy_animations(obj,bind){for(var i=0;i<bind.animations.length;i++){var anim_uuid=bind.animations[i];obj.add_animation(self.animation_library[anim_uuid])}}for(var i=0;i<bindings.length;i++){var bind=bindings[i];var uuid=bind.uuid;var obj=this.root.getObjectByProperty("uuid",uuid);if(obj){copy_animations(obj,bind)}}};Scene_Serializer.prototype.load_from_json=function(url){var self=this;function onload(json){try{var data=JSON.parse(json)}catch(e){console.error("Failed to parse scene ",e);throw e}if(data===undefined){console.error("Something fucking happened, failed to load scene ",url);return}self.load(data)}function progress(){}function error(e){console.error(e.target);throw e}var xhr=new THREE.XHRLoader;xhr.load(url,onload,progress,error)};Scene_Serializer.prototype.load=function(json){this.animation_library={};var o=new THREE.ObjectLoader;if(json!==undefined){this.json=json}var root=o.parse(this.json,function(){console.log("onload")});this.root=root;__WEBPACK_IMPORTED_MODULE_0__my_lib_js__["a"].particle_manager.load_particles(this.json,root);this.create_animations(this.json.myanimations.animations);this.bind_animations(this.json.myanimations);this.main_camera=root.getObjectByName("main_camera");if(this.scene_loaded){this.scene_loaded(root)}return root}},function(module,__webpack_exports__,__webpack_require__){"use strict";function Mix_It(){THREE.Vector3.prototype.applyMatrix4_rotation=function(m){var x=this.x,y=this.y,z=this.z;var e=m.elements;this.x=e[0]*x+e[4]*y+e[8]*z;this.y=e[1]*x+e[5]*y+e[9]*z;this.z=e[2]*x+e[6]*y+e[10]*z;return this};var Object3D_Animation_Mixin={add_animation:function(anim){if(!this.animations){this.animations=[]}if(this.animations.indexOf(anim)<0){this.animations.push(anim)}},remove_animation:function(anim){if(this.animations){var i=this.animations.indexOf(anim);if(i>-1){this.animations.splice(i,1)}}},update:function(dt){if(this.animations!==undefined){for(var i=0;i<this.animations.length;i++){var anim=this.animations[i];anim.update(dt);anim.apply(this)}}for(var i=0;i<this.children.length;i++){var obj=this.children[i];if(obj.update){obj.update(dt)}}}};_.copy_object(THREE.Object3D.prototype,Object3D_Animation_Mixin);THREE.Object3D.prototype.old_toJson=THREE.Object3D.toJSON;var Object3D_Serialization_Mixin={standard_serialization:function(meta){var object={};object.uuid=this.uuid;object.type=this.type;if(this.name!=="")object.name=this.name;if(JSON.stringify(this.userData)!=="{}")object.userData=this.userData;if(this.castShadow===true)object.castShadow=true;if(this.receiveShadow===true)object.receiveShadow=true;if(this.visible===false)object.visible=false;object.matrix=this.matrix.toArray();if(this.type!=="particles_points"){if(this.geometry!==undefined){object.geometry=this.geometry.uuid}if(this.material!==undefined){object.material=this.material.uuid}if(this.material!==undefined&&meta.materials[this.material.uuid]===undefined){meta.materials[this.material.uuid]=this.material.toJSON(meta)}if(this.geometry!==undefined&&meta.geometries[this.geometry.uuid]===undefined){meta.geometries[this.geometry.uuid]=this.geometry.toJSON(meta)}}if(this.animations){object.animations=[];for(var i=0;i<this.animations.length;i++){object.animations.push(this.animations[i].uuid)}}if(this.children.length>0){object.children=[];for(var i=0;i<this.children.length;i++){var child=this.children[i];object.children.push(child.toJSON(meta))}}return object},collect_materials:function(meta){if(this.material!==undefined&&meta.materials[this.material.uuid]===undefined){meta.materials[this.material.uuid]=this.material.toJSON(meta)}for(var i=0;i<this.children.length;i++){this.children[i].collect_materials(meta)}},collect_geometry:function(meta){if(this.geometry!==undefined&&meta.geometries[this.geometry.uuid]===undefined){meta.geometries[this.geometry.uuid]=this.geometry.toJSON(meta)}for(var i=0;i<this.children.length;i++){this.children[i].collect_geometry(meta)}},toJSON1:function(meta){function extractFromCache(cache,t){var values=[];for(var key in cache){var data=cache[key];delete data.metadata;values.push(data)}return values}this.updateMatrixWorld(true);var isRootObject=meta===undefined||meta==="";var output={};if(isRootObject){meta={geometries:{},materials:{},textures:{},images:{}};var object=this.standard_serialization(meta);output.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"};var geometries=extractFromCache(meta.geometries,"geoim");var materials=extractFromCache(meta.materials,"materials");var textures=extractFromCache(meta.textures,"textures");var images=extractFromCache(meta.images,"images");if(geometries.length>0)output.geometries=geometries;if(materials.length>0)output.materials=materials;if(textures.length>0)output.textures=textures;if(images.length>0)output.images=images;var anims=this.collect_animations(this);if(anims.count>0){output["myanimations"]=anims}output.object=object}else{output.object=this.standard_serialization(meta);output.type=this.type;if(output.object===undefined){console.log("i am undefined",this)}}return output},collect_animations:function(scene){var data={animations:{},bindings:[],count:0};function collect_animations_recursive(root){if(root.animations){for(var i=0;i<root.animations.length;i++){var anim=root.animations[i];if(data.animations[anim.uuid]===undefined){data.animations[anim.uuid]=anim.toJSON();data.count++}}var bind={};bind.uuid=root.uuid;bind.animations=[];for(var i=0;i<root.animations.length;i++){bind.animations.push(root.animations[i].uuid)}data.bindings.push(bind)}if(root.children){for(var i=0;i<root.children.length;i++){collect_animations_recursive(root.children[i])}}}collect_animations_recursive(scene);return data}};_.copy_object(THREE.Object3D.prototype,Object3D_Serialization_Mixin);THREE.Object3D.prototype.replace_object_with_this=function(source){this.uuid=source.uuid;this.name=source.name;this.up.copy(source.up);this.position.copy(source.position);this.quaternion.copy(source.quaternion);this.scale.copy(source.scale);this.matrix.copy(source.matrix);this.matrixWorld.copy(source.matrixWorld);this.matrixAutoUpdate=source.matrixAutoUpdate;this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate;this.visible=source.visible;this.castShadow=source.castShadow;this.receiveShadow=source.receiveShadow;this.frustumCulled=source.frustumCulled;this.renderOrder=source.renderOrder;this.userData=JSON.parse(JSON.stringify(source.userData));for(var i=0;i<source.children.length;i++){this.add(source.children[i])}source.parent.add(this);source.parent.remove(source);this.animations=source.animations}}Mix_It()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Custom_Affector});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__particle_affector_js__=__webpack_require__(1);function Custom_Affector(){__WEBPACK_IMPORTED_MODULE_1__particle_affector_js__["a"].apply(this,arguments);this.custom_func=function dummy(){return true}}Custom_Affector.prototype=Object.create(__WEBPACK_IMPORTED_MODULE_1__particle_affector_js__["a"].prototype);_.copy_object(Custom_Affector.prototype,{constructor:Custom_Affector,affect:function(dt,pdata,vert){return this.custom_func(dt,p,vert)},test_func:function(){var p={position:{x:0,y:0,z:0},velocity:{x:0,y:0,z:0}};var color={r:0,g:0,b:0};this.custom_func(p,color)},set_affect_function:function(source){if(typeof source==="function"){this.custom_func=source}else if(typeof source==="string"){try{this.custom_func=new Function("dt,p,vert",source);this.test_func()}catch(e){alert(e);this.custom_func=undefined}this.source_code=source}},toJSON:function(){var data={name:"Custom_Affector"};data.params=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Particle_Affector.prototype.toJSON.call(this,this);params["source_code"]=this.source_code;return data},parse:function(json){__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Particle_Affector.prototype.parse(this,json);this.set_affect_func(json.source_code)}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Custom_Affector",Custom_Affector)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Custom_Emitter});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__=__webpack_require__(2);function Custom_Emitter(){__WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__["a"].apply(this,arguments)}Custom_Emitter.prototype=Object.create(__WEBPACK_IMPORTED_MODULE_1__particle_emitter_js__["a"].prototype);var methods={emit:function(p,color){if(this.custom_func){this.custom_func(p,color)}},test_func:function(){var p={position:{x:0,y:0,z:0},velocity:{x:0,y:0,z:0}};var color={r:0,g:0,b:0};this.custom_func(p,color)},set_emit_function:function(source){if(typeof source==="function"){this.custom_func=source}else if(typeof source==="string"){try{this.custom_func=new Function("p","color",source);this.test_func()}catch(e){alert(e);this.custom_func=undefined}this.source_code=source}},toJSON:function(){var data={};data.name="Custom_Emitter";data.params=__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Particle_Emitter.prototype.toJSON.call(this,this);if(this.source_code){data.params.source_code=this.source_code}return data},parse:function(data){__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Particle_Emitter.prototype.parse.call(this,data);this.set_emit_function(data.source_code)},constructor:Custom_Emitter};_.copy_object(Custom_Emitter.prototype,methods);__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Custom_Emitter",Custom_Emitter);function test(){var t=new Custom_Emitter;var source="p.position.z = -100; p.velocity.y = 100;";t.set_emit_function(source);var p={velocity:{x:0,y:0,z:0},position:{x:0,y:0,z:0}};t.custom_func(p);console.log(p);var json=t.toJSON();console.log(json);t=new Custom_Emitter;t.parse(json.params)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Particle_Forces});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var Particle_Forces={};Particle_Forces.Force=function(){};_.copy_object(Particle_Forces.Force.prototype,{calc:function(dt,particle,acceleration){},toJSON:function(child){return{}},parse:function(json){}});Particle_Forces.Constant_Force=function(force){if(typeof force!=="undefined"){this.force=force}else{this.force={x:0,y:0,z:0}}};Particle_Forces.Constant_Force.prototype=Object.create(Particle_Forces.Force.prototype);_.copy_object(Particle_Forces.Constant_Force.prototype,{constructor:Particle_Forces.Constant_Force,calc:function(dt,p,acceleration){acceleration.x+=this.force.x;acceleration.y+=this.force.y;acceleration.z+=this.force.z},toJSON:function(child){var data={};data.name="Constant_Force";data.force=_.create_clone_object(this.force);return data},parse:function(json){if(json.force){_.copy_object(this.force,json.force)}}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Constant_Force",Particle_Forces.Constant_Force)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Cone_Emitter});__webpack_require__.d(__webpack_exports__,"b",function(){return Star_Dust_Emitter});__webpack_require__.d(__webpack_exports__,"c",function(){return Sphere_Emitter});__webpack_require__.d(__webpack_exports__,"d",function(){return Star_Dust_Affector});var __WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_1__point_generators_js__=__webpack_require__(10);var __WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_3__particle_affector_js__=__webpack_require__(1);function Cone_Emitter(){__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].apply(this,arguments);this.generator=new __WEBPACK_IMPORTED_MODULE_1__point_generators_js__["a"].Random_Direction;this.origin=new THREE.Vector3(1,1,0);this.velocity=new THREE.Vector3(0,1,0);this.dispersion={min:5,max:10};this.dispersion.delta=5;this.speed={min:5,max:10,delta:5};this.color=new THREE.Color(1,1,1)}Cone_Emitter.prototype=Object.create(__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype);Cone_Emitter.prototype.constructor=Cone_Emitter;__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Cone_Emitter",Cone_Emitter);Cone_Emitter.prototype.toJSON=function(){var data={};data.name="Cone_Emitter";data.params=__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype.toJSON.call(this,this);_.clone_field_list_one_level_recursion(this,data.params,["origin","velocity","dispersion","speed"]);return data};Cone_Emitter.prototype.parse=function(data){__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype.parse.call(this,data);this.origin.copy(data.origin);this.velocity.copy(data.velocity);this.set_dispersion(data.dispersion.min,data.dispersion.max);this.set_speed(data.speed.min,data.speed.max)};Cone_Emitter.prototype.set_speed=function(min,max){this.speed.min=min;this.speed.max=max;this.speed.delta=max-min};Cone_Emitter.prototype.set_dispersion=function(min,max){this.dispersion.min=min;this.dispersion.max=max;this.dispersion.delta=max-min};Cone_Emitter.prototype.emit=function(p,color,matrix){p.position.copy(this.origin);this.generator.get_direction(p.velocity);p.velocity.multiplyScalar(Math.random()*this.dispersion.delta+this.dispersion.min);p.velocity.add(this.velocity).normalize();if(matrix){p.position.applyMatrix4(matrix);p.velocity.applyMatrix4_rotation(matrix)}p.velocity.multiplyScalar(Math.random()*this.speed.delta+this.speed.min);if(color){this.emit_color(color)}};Cone_Emitter.prototype.emit_color=function(color){color.copy(this.color)};function Sphere_Emitter(radius,speed){__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].call(this);this.radius=radius||1;this.speed=speed||1;this.generator=new __WEBPACK_IMPORTED_MODULE_1__point_generators_js__["a"].Sphere(radius);this.from_center=true;Object.defineProperty(this,"radius",{configurable:true,enumerable:true,set:function(value){radius=value;generator.radius=value}})}Sphere_Emitter.prototype=Object.create(__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype);_.copy_object(Sphere_Emitter.prototype,{constructor:Sphere_Emitter,emit:function(p,color,matrix){if(this.from_center){p.position.set(0,0,0)}else{this.generator.get_point(p.position)}this.generator.get_normal(p.velocity);if(matrix){p.position.applyMatrix4(matrix);p.velocity.applyMatrix4_rotation(matrix)}p.velocity.multiplyScalar(this.speed)},toJSON:function(json){var params=__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype.toJSON.call(this,this);params.radius=this.radius;params.speed=this.speed},parse:function(json){__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype.parse.call(this,json);this.radius=json.radius;this.speed=json.speed}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Sphere_Emitter",Sphere_Emitter);function Star_Dust_Emitter(){__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].apply(this,arguments);this.start_position=new THREE.Vector3(0,0,0);this.end_position=new THREE.Vector3(1,1,1);this.delta=new THREE.Vector3(1,1,1);this.velocity=new THREE.Vector3(0,0,1)}Star_Dust_Emitter.prototype=Object.create(__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype);Star_Dust_Emitter.prototype.constructor=Star_Dust_Emitter;_.copy_object(Star_Dust_Emitter.prototype,{set_velocity:function(x,y,z){this.velocity.set(x,y,z)},set_position_range:function(start,end){this.start_position.copy(start);this.end_position.copy(end);this.delta.set(end.x-start.x,end.y-start.y,end.z-start.z)},get_position:function(vector){vector.x=Math.random()*this.delta.x+this.start_position.x;vector.y=Math.random()*this.delta.y+this.start_position.y;vector.z=Math.random()*this.delta.z+this.start_position.z},get_velocity:function(vector){vector.x=this.velocity.x;vector.y=this.velocity.y;vector.z=this.velocity.z},emit:function(p){this.get_position(p.position);if(this.parent){this.parent.localToWorld(p.position)}this.get_velocity(p.velocity)},toJSON:function(){var params=__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype.toJSON.call(this,this);_.clone_field_list_one_level_recursion(this,params,["velocity","start_position","end_position"]);var data={name:"Star_Dust_Emitter",params:params};return data},parse:function(json){__WEBPACK_IMPORTED_MODULE_2__particle_emitter_js__["a"].prototype.parse.call(this,json);this.set_position_range(json.start_position,json.end_position);this.velocity.copy(json.velocity)}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Star_Dust_Emitter",Star_Dust_Emitter);function Star_Dust_Affector(end){this.end=end||0}Star_Dust_Affector.prototype=Object.create(__WEBPACK_IMPORTED_MODULE_3__particle_affector_js__["a"].prototype);Star_Dust_Affector.prototype.constructor=Star_Dust_Affector;_.copy_object(Star_Dust_Affector.prototype,{affect:function(dt,pdata,vert){if(pdata.position.z>this.end){return false}return true},toJSON:function(){var params=__WEBPACK_IMPORTED_MODULE_3__particle_affector_js__["a"].prototype.toJSON.call(this,this);params["end"]=this.end;var data={name:"Star_Dust_Affector",params:params};return data},parse:function(json){__WEBPACK_IMPORTED_MODULE_3__particle_affector_js__["a"].prototype.parse(this,json);this.end=json.end}});__WEBPACK_IMPORTED_MODULE_0__base_my_lib_js__["a"].Register_Class("Star_Dust_Affector",Star_Dust_Affector)},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});var __WEBPACK_IMPORTED_MODULE_0__base_event_hub_js__=__webpack_require__(4);__webpack_require__.d(__webpack_exports__,"main_event_hub",function(){return __WEBPACK_IMPORTED_MODULE_0__base_event_hub_js__["a"]});__webpack_require__.d(__webpack_exports__,"Event_Hub",function(){return __WEBPACK_IMPORTED_MODULE_0__base_event_hub_js__["b"]});var __WEBPACK_IMPORTED_MODULE_1__base_my_lib_js__=__webpack_require__(0);__webpack_require__.d(__webpack_exports__,"My_Lib",function(){return __WEBPACK_IMPORTED_MODULE_1__base_my_lib_js__["a"]});var __WEBPACK_IMPORTED_MODULE_2__base_animations_js__=__webpack_require__(12);__webpack_require__.d(__webpack_exports__,"Base_Animation",function(){return __WEBPACK_IMPORTED_MODULE_2__base_animations_js__["a"]});__webpack_require__.d(__webpack_exports__,"Euler_Animation",function(){return __WEBPACK_IMPORTED_MODULE_2__base_animations_js__["b"]});__webpack_require__.d(__webpack_exports__,"Scale_Animation",function(){return __WEBPACK_IMPORTED_MODULE_2__base_animations_js__["c"]});var __WEBPACK_IMPORTED_MODULE_3__base_mouse_intersector_js__=__webpack_require__(5);__webpack_require__.d(__webpack_exports__,"Mouse_Intersector",function(){return __WEBPACK_IMPORTED_MODULE_3__base_mouse_intersector_js__["a"]});var __WEBPACK_IMPORTED_MODULE_4__base_loading_manager_js__=__webpack_require__(13);__webpack_require__.d(__webpack_exports__,"Loading_Manager",function(){return __WEBPACK_IMPORTED_MODULE_4__base_loading_manager_js__["a"]});var __WEBPACK_IMPORTED_MODULE_5__base_package_manager_js__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"Package_Manager",function(){return __WEBPACK_IMPORTED_MODULE_5__base_package_manager_js__["a"]});var __WEBPACK_IMPORTED_MODULE_6__particles_particles_points_js__=__webpack_require__(3);__webpack_require__.d(__webpack_exports__,"Particles_Points",function(){return __WEBPACK_IMPORTED_MODULE_6__particles_particles_points_js__["a"]});var __WEBPACK_IMPORTED_MODULE_7__particles_particle_emitter_js__=__webpack_require__(2);__webpack_require__.d(__webpack_exports__,"Particle_Emitter",function(){return __WEBPACK_IMPORTED_MODULE_7__particles_particle_emitter_js__["a"]});var __WEBPACK_IMPORTED_MODULE_8__particles_forces_js__=__webpack_require__(19);__webpack_require__.d(__webpack_exports__,"Particle_Forces",function(){return __WEBPACK_IMPORTED_MODULE_8__particles_forces_js__["a"]});var __WEBPACK_IMPORTED_MODULE_9__particles_particle_affector_js__=__webpack_require__(1);__webpack_require__.d(__webpack_exports__,"Particle_Affector",function(){return __WEBPACK_IMPORTED_MODULE_9__particles_particle_affector_js__["a"]});var __WEBPACK_IMPORTED_MODULE_10__particles_point_generators_js__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"Point_Generators",function(){return __WEBPACK_IMPORTED_MODULE_10__particles_point_generators_js__["a"]});var __WEBPACK_IMPORTED_MODULE_11__particles_custom_emitter_js__=__webpack_require__(18);__webpack_require__.d(__webpack_exports__,"Custom_Emitter",function(){return __WEBPACK_IMPORTED_MODULE_11__particles_custom_emitter_js__["a"]});var __WEBPACK_IMPORTED_MODULE_12__particles_custom_affector_js__=__webpack_require__(17);__webpack_require__.d(__webpack_exports__,"Custom_Affector",function(){return __WEBPACK_IMPORTED_MODULE_12__particles_custom_affector_js__["a"]});var __WEBPACK_IMPORTED_MODULE_13__particles_test_emitters_js__=__webpack_require__(20);__webpack_require__.d(__webpack_exports__,"Cone_Emitter",function(){return __WEBPACK_IMPORTED_MODULE_13__particles_test_emitters_js__["a"]});__webpack_require__.d(__webpack_exports__,"Star_Dust_Emitter",function(){return __WEBPACK_IMPORTED_MODULE_13__particles_test_emitters_js__["b"]});__webpack_require__.d(__webpack_exports__,"Sphere_Emitter",function(){return __WEBPACK_IMPORTED_MODULE_13__particles_test_emitters_js__["c"]});__webpack_require__.d(__webpack_exports__,"Star_Dust_Affector",function(){return __WEBPACK_IMPORTED_MODULE_13__particles_test_emitters_js__["d"]});var __WEBPACK_IMPORTED_MODULE_14__particles_particle_shaders_js__=__webpack_require__(7);__webpack_require__.d(__webpack_exports__,"Particle_Shaders",function(){return __WEBPACK_IMPORTED_MODULE_14__particles_particle_shaders_js__["a"]});var __WEBPACK_IMPORTED_MODULE_15__particles_particles_js__=__webpack_require__(8);__webpack_require__.d(__webpack_exports__,"Particle_System",function(){return __WEBPACK_IMPORTED_MODULE_15__particles_particles_js__["a"]});var __WEBPACK_IMPORTED_MODULE_16__particles_particles_manager_js__=__webpack_require__(9);__webpack_require__.d(__webpack_exports__,"Particle_Manager",function(){return __WEBPACK_IMPORTED_MODULE_16__particles_particles_manager_js__["a"]});var __WEBPACK_IMPORTED_MODULE_17__base_scene_serializer_js__=__webpack_require__(15);__webpack_require__.d(__webpack_exports__,"Scene_Serializer",function(){return __WEBPACK_IMPORTED_MODULE_17__base_scene_serializer_js__["a"]});var __WEBPACK_IMPORTED_MODULE_18__base_threejs_mixins_js__=__webpack_require__(16);var __WEBPACK_IMPORTED_MODULE_19__app_application_js__=__webpack_require__(11);__webpack_require__.d(__webpack_exports__,"Application",function(){return __WEBPACK_IMPORTED_MODULE_19__app_application_js__["a"]});var __WEBPACK_IMPORTED_MODULE_20__particles_color_domain_js__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"Color_Domain",function(){return __WEBPACK_IMPORTED_MODULE_20__particles_color_domain_js__["a"]});__webpack_require__.d(__webpack_exports__,"Table_Color",function(){return __WEBPACK_IMPORTED_MODULE_20__particles_color_domain_js__["b"]})}]);
//# sourceMappingURL=prod.build.js.map